//TODO : a faire

!!!!!!!!!BIEN INIT LES STRUCT sinon ca baise tout 


//(dÃ©jÃ  prÃ©parÃ© avant lâ€™exec) Si câ€™est un heredoc (R_HEREDOC), 
//tu rediriges lâ€™entrÃ©e standard (STDIN_FILENO) vers le fd du heredoc

//reforcer close and free all

//faire attention a appeller cmd quand je parcours avec et pas sehll->list




Builtins dans un pipeline

Les builtins sont exÃ©cutÃ©s dans le parent uniquement sâ€™il nâ€™y a pas de pipe.
Câ€™est correct, mais attention Ã  bien gÃ©rer les effets de bord (cd, export, etc.) dans ce cas.

Gestion du signal lors de lâ€™exec

Tu ignores SIGQUIT dans le shell principal, mais il faudrait le rÃ©activer dans les enfants (processus forkÃ©s).





//fix multi heredoc

//normal reachable dans exit et ctrl d ?????



// exemple a gerer : 


< Makefile > p //doit creer p


minishell$ << a << b << c
> a
> 
^C
bash-5.1$ 

//peut etre proteger l appel a find path







echo test > file1 > file2
cat file2
# Attendu : "test" dans file2, file1 vide ou inexistant



echo foo > file1 >> file2
cat file2
# Attendu : "foo" ajoutÃ© Ã  la fin de file2


echo bar > file1 < file2
# Attendu : file1 contient "bar", file2 n'est pas modifiÃ©


///////////////////////////////////


echo test > /dev/null
# Attendu : rien dans le terminal, pas d'erreur

echo test > /dev/full
# Attendu : message d'erreur "No space left on device"






ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹
valgrind --leak-check=full --show-leak-kinds=all --trace-children=yes --track-fds=yes --track-origins=yes --log-file=valgrind.log --suppressions=readline.supp ./minishell







leak
generakliser msg erreur
gerer les bon exit status
gerer les double prompt
gerer le comportement un peu indefini de controle c dans heredoc exemple en bas
rendre le readline beau



//refaire plein de test de here_doc







voir pourquoi le controle c here_doc est pas tout le temps au meme endroit

minishell$ << eof
> salut
> 
^Cminishell$ 
minishell$ << eof 
> 
minishell$ ^C
minishell$ << eof 
> 
^C
minishell$ minishell$ << eof 
> salut
> 
minishell$ ^C
minishell$ << eof 
> salut
> 
minishell$ ^C
minishell$ 


bash-5.1$ < cat > p
bash: cat: No such file or directory
bash-5.1$ ./minishell 
minishell$ < cat > p