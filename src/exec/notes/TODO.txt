//TODO : a faire

!!!!!!!!!BIEN INIT LES STRUCT sinon ca baise tout 


//(dÃ©jÃ  prÃ©parÃ© avant lâ€™exec) Si câ€™est un heredoc (R_HEREDOC), 
//tu rediriges lâ€™entrÃ©e standard (STDIN_FILENO) vers le fd du heredoc

//reforcer close and free all

//faire attention a appeller cmd quand je parcours avec et pas sehll->list




Builtins dans un pipeline

Les builtins sont exÃ©cutÃ©s dans le parent uniquement sâ€™il nâ€™y a pas de pipe.
Câ€™est correct, mais attention Ã  bien gÃ©rer les effets de bord (cd, export, etc.) dans ce cas.

Gestion du signal lors de lâ€™exec

Tu ignores SIGQUIT dans le shell principal, mais il faudrait le rÃ©activer dans les enfants (processus forkÃ©s).





//fix multi heredoc

//fix builtin pas en premier

//normal reachable dans exit et ctrl d ?????



// exemple a gerer : 


< Makefile

minishell$ << a << b << c
dup2: Bad file descriptor
bash-5.1$ << a << b << c
>

ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹ğŸ‘‡â€‹
valgrind --leak-check=full --show-leak-kinds=all --trace-children=yes --track-fds=yes --track-origins=yes --log-file=valgrind.log --suppressions=readline.supp ./minishell





Oui, voici dâ€™autres options utiles pour valgrindâ€¯:

--track-origins=yes
Affiche lâ€™origine des valeurs non initialisÃ©es (trÃ¨s utile pour les erreurs "uninitialised value").

--log-file=valgrind.log
Redirige la sortie de valgrind dans un fichier (pratique pour relire les rapports).

--child-silent-after-fork=yes
RÃ©duit le bruit lors de lâ€™utilisation de fork/exec (utile pour les shells).

--show-leak-kinds=all
(DÃ©jÃ  prÃ©sent) Affiche tous les types de fuites.

--error-exitcode=42
Fait Ã©chouer le script si une erreur mÃ©moire est dÃ©tectÃ©e (utile en CI).





minishell$ < cat | Makefile 
cat: No such file or directory
minishell: Bad file descriptor
minishell: Bad file descriptor